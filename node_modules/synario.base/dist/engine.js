import * as types_mod from "./types";
export class Engine {
    static tick = 0;
    static work;
    static #id;
    static #running = false;
    static start(work) {
        if (Engine.#running) {
            Engine.stop();
        }
        Engine.tick = 0;
        Engine.work = work;
        Engine.#running = true;
        Engine.#frame();
    }
    static #frame = () => {
        Engine.work(Engine.tick++);
        Engine.#id = requestAnimationFrame(Engine.#frame);
    };
    static stop() {
        if (Engine.#id !== undefined) {
            cancelAnimationFrame(Engine.#id);
            Engine.#running = false;
            Engine.#id = undefined;
        }
    }
}
